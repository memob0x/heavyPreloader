{"version":3,"sources":["unknown"],"names":["blob","options","url","URL","createObjectURL","result","Promise","resolve","reject","image","element","HTMLImageElement","Image","events","type","onload","onerror","clean","event","Error","src","revokeObjectURL"],"mappings":"AAAA,eAAe,MAAOA,IAAP,CAAaC,OAAb,GAAyB,CAEpC,KAAMC,CAAAA,GAAG,CAAGC,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAZ,CAGA,KAAMK,CAAAA,MAAM,CAAG,KAAM,IAAIC,CAAAA,OAAJ,CAAY,CAACC,OAAD,CAAUC,MAAV,GAAqB,CAElD,KAAMC,CAAAA,KAAK,CACP,CAAAR,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAES,OAAT,WAA4BC,CAAAA,gBAA5B,CACMV,OAAO,CAACS,OADd,CAEM,GAAIE,CAAAA,KAAJ,EAHV,CAMA,KAAMC,CAAAA,MAAM,CAAIC,IAAD,EAAU,CACrBL,KAAK,CAAE,GAAEK,IAAK,eAAT,CAAL,CAA8B,MAA9B,CAAsCC,MAAtC,EACAN,KAAK,CAAE,GAAEK,IAAK,eAAT,CAAL,CAA8B,OAA9B,CAAuCE,OAAvC,EACH,CAHD,CAMA,KAAMC,CAAAA,KAAK,CAAG,IAAMJ,MAAM,CAAC,QAAD,CAA1B,CAGA,KAAME,CAAAA,MAAM,CAAIG,KAAD,EAAW,CACtBD,KAAK,GAELV,OAAO,CAACW,KAAD,CAAP,CACH,CAJD,CAOA,KAAMF,CAAAA,OAAO,CAAG,IAAM,CAClBC,KAAK,GAELT,MAAM,CAAC,GAAIW,CAAAA,KAAJ,CAAW,uBAAsBnB,IAAI,CAACc,IAAK,EAA3C,CAAD,CAAN,CACH,CAJD,CAOAD,MAAM,CAAC,KAAD,CAAN,CAGAJ,KAAK,CAACW,GAAN,CAAYlB,GAAZ,CACH,CAnCoB,CAArB,CAsCAC,GAAG,CAACkB,eAAJ,CAAoBnB,GAApB,EAGA,MAAOG,CAAAA,MAAP,CACH,CA/CD","sourcesContent":["export default async (blob, options) => {\n    //\n    const url = URL.createObjectURL(blob);\n\n    //\n    const result = await new Promise((resolve, reject) => {\n        //\n        const image =\n            options?.element instanceof HTMLImageElement\n                ? options.element\n                : new Image();\n\n        //\n        const events = (type) => {\n            image[`${type}EventListener`](\"load\", onload);\n            image[`${type}EventListener`](\"error\", onerror);\n        };\n\n        //\n        const clean = () => events(\"remove\");\n\n        //\n        const onload = (event) => {\n            clean();\n\n            resolve(event);\n        };\n\n        //\n        const onerror = () => {\n            clean();\n\n            reject(new Error(`Error loading image ${blob.type}`));\n        };\n\n        //\n        events(\"add\");\n\n        //\n        image.src = url;\n    });\n\n    //\n    URL.revokeObjectURL(url);\n\n    //\n    return result;\n};\n"]}