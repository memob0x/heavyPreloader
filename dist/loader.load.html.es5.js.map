{"version":3,"sources":["loader.load.html.mjs"],"names":["global","factory","exports","module","define","amd","self","Loader","loader_load_html","blob","options","reader","FileReader","promise","Promise","resolve","addEventListener","buffer","srcElement","result","readAsText","filter","length","DOMParser","parseFromString","body","querySelectorAll","map","x","outerHTML","reduce","y","element","HTMLElement","innerHTML"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,UAAOC,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DA,MAAM,CAACD,OAAP,GAAiBD,OAAO,EAAvF,GACA,OAAOG,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAAvC,GAA6CD,MAAM,CAAC,QAAD,EAAWH,OAAX,CAAnD,IACCD,MAAM,GAAGA,MAAM,IAAIM,IAAnB,EAAyBN,MAAM,CAACO,MAAP,GAAgBN,OAAO,EADjD,CADA;AAGH,CAJA,UAIQ,YAAY;AAAE;;AAEnB,MAAIO,gBAAgB;AAAA,yDAAG,iBAAOC,IAAP,EAAaC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAEbC,cAAAA,MAFa,GAEJ,IAAIC,UAAJ,EAFI;AAKbC,cAAAA,OALa,GAKH,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,uBACxBJ,MAAM,CAACK,gBAAP,CAAwB,SAAxB,EAAmC,UAACC,MAAD;AAAA,yBAC/BF,OAAO,CAACE,MAAM,CAACC,UAAP,CAAkBC,MAAnB,CADwB;AAAA,iBAAnC,CADwB;AAAA,eAAZ,CALG;AAYnBR,cAAAA,MAAM,CAACS,UAAP,CAAkBX,IAAlB;AAZmB;AAAA,qBAeAI,OAfA;;AAAA;AAefM,cAAAA,MAfe;;AAkBnB,kBACIT,OAAO,IACP,OAAOA,OAAO,CAACW,MAAf,KAA0B,QAD1B,IAEAX,OAAO,CAACW,MAAR,CAAeC,MAHnB,EAIE;AAEEH,gBAAAA,MAAM,GAAG,IAAII,SAAJ,GAAgBC,eAAhB,CAAgCL,MAAhC,EAAwC,WAAxC,EAAqDM,IAA9D;AAEAN,gBAAAA,MAAM,sBAAOA,MAAM,CAACO,gBAAP,CAAwBhB,OAAO,CAACW,MAAhC,CAAP,CAAN;AAEAF,gBAAAA,MAAM,GAAGA,MAAM,CAACG,MAAP,GACHH,MAAM,CAACQ,GAAP,CAAW,UAACC,CAAD;AAAA,yBAAOA,CAAC,CAACC,SAAT;AAAA,iBAAX,EAA+BC,MAA/B,CAAsC,UAACF,CAAD,EAAIG,CAAJ;AAAA,yBAAUH,CAAC,GAAGG,CAAd;AAAA,iBAAtC,CADG,GAEHZ,MAFN;AAGH;;AAGD,kBACIT,OAAO,IACPA,OAAO,CAACsB,OADR,IAEAtB,OAAO,CAACsB,OAAR,YAA2BC,WAF3B,IAGAd,MAHA,IAIA,OAAOA,MAAP,KAAkB,QAJlB,IAKAA,MAAM,CAACG,MANX,EAOE;AACEZ,gBAAAA,OAAO,CAACsB,OAAR,CAAgBE,SAAhB,GAA4Bf,MAA5B;AACH;;AA3CkB,+CA8CZN,OA9CY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAhBL,gBAAgB;AAAA;AAAA;AAAA,KAApB;;AAiDA,SAAOA,gBAAP;AAEH,CAzDA,CAAD","file":"loader.load.html.es5.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('Loader', factory) :\n    (global = global || self, global.Loader = factory());\n}(this, (function () { 'use strict';\n\n    var loader_load_html = async (blob, options) => {\n        //\n        const reader = new FileReader();\n\n        //\n        const promise = new Promise((resolve) =>\n            reader.addEventListener(\"loadend\", (buffer) =>\n                resolve(buffer.srcElement.result)\n            )\n        );\n\n        //\n        reader.readAsText(blob);\n\n        //\n        let result = await promise;\n\n        //\n        if (\n            options &&\n            typeof options.filter === \"string\" &&\n            options.filter.length\n        ) {\n            //\n            result = new DOMParser().parseFromString(result, \"text/html\").body;\n            //\n            result = [...result.querySelectorAll(options.filter)];\n            //\n            result = result.length\n                ? result.map((x) => x.outerHTML).reduce((x, y) => x + y)\n                : result;\n        }\n\n        //\n        if (\n            options &&\n            options.element &&\n            options.element instanceof HTMLElement &&\n            result &&\n            typeof result === \"string\" &&\n            result.length\n        ) {\n            options.element.innerHTML = result;\n        }\n\n        //\n        return promise;\n    };\n\n    return loader_load_html;\n\n})));\n"]}