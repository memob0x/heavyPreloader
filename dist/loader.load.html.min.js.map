{"version":3,"sources":["src/loader.load.html.mjs"],"names":["global","factory","exports","module","define","amd","self","Loader","this","async","blob","options","reader","FileReader","promise","Promise","resolve","addEventListener","buffer","srcElement","result","readAsText","filter","length","DOMParser","parseFromString","body","querySelectorAll","map","x","outerHTML","reduce","y","element","HTMLElement","innerHTML"],"mappings":"CAAC,SAAUA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBA,OAAOD,QAAUD,IAC9D,mBAAXG,QAAyBA,OAAOC,IAAMD,OAAO,SAAUH,IAC7DD,EAASA,GAAUM,MAAaC,OAASN,IAH9C,CAIEO,KAAM,WAAe,aAyCnB,OAvCuBC,MAAOC,EAAMC,KAChC,MAAMC,EAAS,IAAIC,WAEbC,EAAU,IAAIC,QAASC,GACzBJ,EAAOK,iBAAiB,UAAYC,GAChCF,EAAQE,EAAOC,WAAWC,UAIlCR,EAAOS,WAAWX,GAElB,IAAIU,QAAeN,EAyBnB,OAtBIH,GAC0B,iBAAnBA,EAAQW,QACfX,EAAQW,OAAOC,SAIfH,GADAA,EAAS,KADTA,GAAS,IAAII,WAAYC,gBAAgBL,EAAQ,aAAaM,MAC1CC,iBAAiBhB,EAAQW,UAC7BC,OACVH,EAAOQ,IAAKC,GAAMA,EAAEC,WAAWC,OAAO,CAACF,EAAGG,IAAMH,EAAIG,GACpDZ,GAINT,GACAA,EAAQsB,SACRtB,EAAQsB,mBAAmBC,aAC3Bd,GACkB,iBAAXA,GACPA,EAAOG,SAEPZ,EAAQsB,QAAQE,UAAYf,GAGzBN","sourcesContent":["export default async (blob, options) => {\n    //\n    const reader = new FileReader();\n\n    //\n    const promise = new Promise((resolve) =>\n        reader.addEventListener(\"loadend\", (buffer) =>\n            resolve(buffer.srcElement.result)\n        )\n    );\n\n    //\n    reader.readAsText(blob);\n\n    //\n    let result = await promise;\n\n    //\n    if (\n        options &&\n        typeof options.filter === \"string\" &&\n        options.filter.length\n    ) {\n        //\n        result = new DOMParser().parseFromString(result, \"text/html\").body;\n        //\n        result = [...result.querySelectorAll(options.filter)];\n        //\n        result = result.length\n            ? result.map((x) => x.outerHTML).reduce((x, y) => x + y)\n            : result;\n    }\n\n    //\n    if (\n        options &&\n        options.element &&\n        options.element instanceof HTMLElement &&\n        result &&\n        typeof result === \"string\" &&\n        result.length\n    ) {\n        options.element.innerHTML = result;\n    }\n\n    //\n    return promise;\n};\n"],"file":"loader.load.html.min.js"}