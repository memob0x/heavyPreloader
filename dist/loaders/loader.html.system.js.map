{"version":3,"file":"loader.html.system.js","sources":["../../src/loaders/loader.html.mjs"],"sourcesContent":["export default async (blob, options) => {\n    //\n    const reader = new FileReader();\n\n    //\n    const promise = new Promise((resolve) =>\n        reader.addEventListener(\"loadend\", (buffer) =>\n            resolve(buffer.srcElement.result)\n        )\n    );\n\n    //\n    reader.readAsText(blob);\n\n    //\n    let result = await promise;\n\n    //\n    if (\n        options &&\n        typeof options.filter === \"string\" &&\n        options.filter.length\n    ) {\n        //\n        result = new DOMParser().parseFromString(result, \"text/html\").body;\n        //\n        result = [...result.querySelectorAll(options.filter)];\n        //\n        result = result.length\n            ? result.map((x) => x.outerHTML).reduce((x, y) => x + y)\n            : result;\n    }\n\n    //\n    if (\n        options &&\n        options.element &&\n        options.element instanceof HTMLElement &&\n        result &&\n        typeof result === \"string\" &&\n        result.length\n    ) {\n        options.element.innerHTML = result;\n    }\n\n    //\n    return promise;\n};\n"],"names":[],"mappings":";;;;;AAAA,iDAAe,OAAO,IAAI,EAAE,OAAO,KAAK;YACxC;YACA,IAAI,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;AACpC;YACA;YACA,IAAI,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO;YACxC,QAAQ,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,MAAM;YAClD,YAAY,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC;YAC7C,SAAS;YACT,KAAK,CAAC;AACN;YACA;YACA,IAAI,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC5B;YACA;YACA,IAAI,IAAI,MAAM,GAAG,MAAM,OAAO,CAAC;AAC/B;YACA;YACA,IAAI;YACJ,QAAQ,OAAO;YACf,QAAQ,OAAO,OAAO,CAAC,MAAM,KAAK,QAAQ;YAC1C,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM;YAC7B,MAAM;YACN;YACA,QAAQ,MAAM,GAAG,IAAI,SAAS,EAAE,CAAC,eAAe,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC;YAC3E;YACA,QAAQ,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YAC9D;YACA,QAAQ,MAAM,GAAG,MAAM,CAAC,MAAM;YAC9B,cAAc,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACpE,cAAc,MAAM,CAAC;YACrB,KAAK;AACL;YACA;YACA,IAAI;YACJ,QAAQ,OAAO;YACf,QAAQ,OAAO,CAAC,OAAO;YACvB,QAAQ,OAAO,CAAC,OAAO,YAAY,WAAW;YAC9C,QAAQ,MAAM;YACd,QAAQ,OAAO,MAAM,KAAK,QAAQ;YAClC,QAAQ,MAAM,CAAC,MAAM;YACrB,MAAM;YACN,QAAQ,OAAO,CAAC,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC;YAC3C,KAAK;AACL;YACA;YACA,IAAI,OAAO,OAAO,CAAC;YACnB,EAAC;;;;;;"}