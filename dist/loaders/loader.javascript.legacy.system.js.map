{"version":3,"file":"loader.javascript.legacy.system.js","sources":["../../src/loaders/loader.javascript.legacy.mjs"],"sourcesContent":["export default async (resource) => {\n    //\n    const url =\n        resource instanceof Blob ? URL.createObjectURL(resource) : resource;\n\n    //\n    const result = await new Promise((resolve) => {\n        //\n        var script = document.createElement(\"script\");\n        //\n        script.async = true;\n        script.src = url;\n\n        //\n        const events = (type) => {\n            script[`${type}EventListener`](\"readystatechange\", onload);\n            script[`${type}EventListener`](\"load\", onload);\n        };\n\n        //\n        const onload = () => {\n            events(\"remove\");\n\n            resolve(script);\n        };\n\n        //\n        events(\"add\");\n\n        //\n        document.head.prepend(script);\n    });\n\n    //\n    URL.revokeObjectURL(url);\n\n    //\n    return result;\n};\n"],"names":[],"mappings":";;;;;AAAA,8DAAe,OAAO,QAAQ,KAAK;YACnC;YACA,IAAI,MAAM,GAAG;YACb,QAAQ,QAAQ,YAAY,IAAI,GAAG,GAAG,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;AAC5E;YACA;YACA,IAAI,MAAM,MAAM,GAAG,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK;YAClD;YACA,QAAQ,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACtD;YACA,QAAQ,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YAC5B,QAAQ,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AACzB;YACA;YACA,QAAQ,MAAM,MAAM,GAAG,CAAC,IAAI,KAAK;YACjC,YAAY,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;YACvE,YAAY,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAC3D,SAAS,CAAC;AACV;YACA;YACA,QAAQ,MAAM,MAAM,GAAG,MAAM;YAC7B,YAAY,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC7B;YACA,YAAY,OAAO,CAAC,MAAM,CAAC,CAAC;YAC5B,SAAS,CAAC;AACV;YACA;YACA,QAAQ,MAAM,CAAC,KAAK,CAAC,CAAC;AACtB;YACA;YACA,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACtC,KAAK,CAAC,CAAC;AACP;YACA;YACA,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;AAC7B;YACA;YACA,IAAI,OAAO,MAAM,CAAC;YAClB,EAAC;;;;;;"}