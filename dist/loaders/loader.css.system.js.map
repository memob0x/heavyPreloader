{"version":3,"file":"loader.css.system.js","sources":["../../src/loaders/loader.css.modern.mjs","../../src/loaders/loader.css.legacy.mjs","../../src/loaders/loader.css.mjs"],"sourcesContent":["export default async (resource, options) => {\n    //\n    const url =\n        resource instanceof Blob ? URL.createObjectURL(resource) : resource;\n\n    //\n    const sheet = new CSSStyleSheet();\n\n    //\n    await sheet.replace(`@import url(\"${url}\")`);\n\n    //\n    URL.revokeObjectURL(url);\n\n    //\n    const element = options?.element || document;\n\n    //\n    if (element instanceof Document || element instanceof ShadowRoot) {\n        element.adoptedStyleSheets = [...element.adoptedStyleSheets, sheet];\n    }\n\n    //\n    return sheet;\n};\n","export default async (resource) => {\n    //\n    const url =\n        resource instanceof Blob ? URL.createObjectURL(resource) : resource;\n\n    //\n    const sheet = await new Promise((resolve) => {\n        //\n        const link = document.createElement(\"link\");\n\n        //\n        link.rel = \"stylesheet\";\n        link.href = url;\n\n        //\n        const callback = () => {\n            link.removeEventListener(\"load\", callback);\n            link.removeEventListener(\"error\", callback);\n\n            resolve(link);\n        };\n\n        //\n        const sheets = document.styleSheets;\n        let i = sheets.length;\n        while (i--) {\n            if (sheets[i].href === url) {\n                callback();\n            }\n        }\n\n        //\n        link.addEventListener(\"load\", callback);\n        link.addEventListener(\"error\", callback);\n\n        //\n        document.head.append(link);\n    });\n\n    //\n    URL.revokeObjectURL(url);\n\n    //\n    return sheet;\n};\n","import modern from \"./loader.css.modern.mjs\";\nimport legacy from \"./loader.css.legacy.mjs\";\n\nexport default async (blob, options) => {\n    const url = URL.createObjectURL(blob);\n\n    try {\n        return await modern(url, options);\n    } catch {\n        return await legacy(url);\n    }\n};\n"],"names":[],"mappings":"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"}