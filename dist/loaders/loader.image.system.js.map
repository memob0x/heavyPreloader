{"version":3,"file":"loader.image.system.js","sources":["../../src/loaders/loader.image.mjs"],"sourcesContent":["export default async (blob, options) => {\n    //\n    const url = URL.createObjectURL(blob);\n\n    //\n    const result = await new Promise((resolve, reject) => {\n        //\n        const image =\n            options?.element instanceof HTMLImageElement\n                ? options.element\n                : new Image();\n\n        //\n        const events = (type) => {\n            image[`${type}EventListener`](\"load\", onload);\n            image[`${type}EventListener`](\"error\", onerror);\n        };\n\n        //\n        const clean = () => events(\"remove\");\n\n        //\n        const onload = (event) => {\n            clean();\n\n            resolve(event);\n        };\n\n        //\n        const onerror = () => {\n            clean();\n\n            reject(new Error(`Error loading image ${blob.type}`));\n        };\n\n        //\n        events(\"add\");\n\n        //\n        image.src = url;\n    });\n\n    //\n    URL.revokeObjectURL(url);\n\n    //\n    return result;\n};\n"],"names":[],"mappings":";;;;;AAAA,kDAAe,OAAO,IAAI,EAAE,OAAO,KAAK;YACxC;YACA,IAAI,MAAM,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;AAC1C;YACA;YACA,IAAI,MAAM,MAAM,GAAG,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;YAC1D;YACA,QAAQ,MAAM,KAAK;YACnB,YAAY,OAAO,EAAE,OAAO,YAAY,gBAAgB;YACxD,kBAAkB,OAAO,CAAC,OAAO;YACjC,kBAAkB,IAAI,KAAK,EAAE,CAAC;AAC9B;YACA;YACA,QAAQ,MAAM,MAAM,GAAG,CAAC,IAAI,KAAK;YACjC,YAAY,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAC1D,YAAY,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAC5D,SAAS,CAAC;AACV;YACA;YACA,QAAQ,MAAM,KAAK,GAAG,MAAM,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC7C;YACA;YACA,QAAQ,MAAM,MAAM,GAAG,CAAC,KAAK,KAAK;YAClC,YAAY,KAAK,EAAE,CAAC;AACpB;YACA,YAAY,OAAO,CAAC,KAAK,CAAC,CAAC;YAC3B,SAAS,CAAC;AACV;YACA;YACA,QAAQ,MAAM,OAAO,GAAG,MAAM;YAC9B,YAAY,KAAK,EAAE,CAAC;AACpB;YACA,YAAY,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,oBAAoB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAClE,SAAS,CAAC;AACV;YACA;YACA,QAAQ,MAAM,CAAC,KAAK,CAAC,CAAC;AACtB;YACA;YACA,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YACxB,KAAK,CAAC,CAAC;AACP;YACA;YACA,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;AAC7B;YACA;YACA,IAAI,OAAO,MAAM,CAAC;YAClB,EAAC;;;;;;"}