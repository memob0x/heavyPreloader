{"version":3,"file":"loader.html.amd.es5.js","sources":["../../src/loaders/loader.html.mjs"],"sourcesContent":["export default async (blob, options) => {\n    //\n    const reader = new FileReader();\n\n    //\n    const promise = new Promise((resolve) =>\n        reader.addEventListener(\"loadend\", (buffer) =>\n            resolve(buffer.srcElement.result)\n        )\n    );\n\n    //\n    reader.readAsText(blob);\n\n    //\n    let result = await promise;\n\n    //\n    if (\n        options &&\n        typeof options.filter === \"string\" &&\n        options.filter.length\n    ) {\n        //\n        result = new DOMParser().parseFromString(result, \"text/html\").body;\n        //\n        result = [...result.querySelectorAll(options.filter)];\n        //\n        result = result.length\n            ? result.map((x) => x.outerHTML).reduce((x, y) => x + y)\n            : result;\n    }\n\n    //\n    if (\n        options &&\n        options.element &&\n        options.element instanceof HTMLElement &&\n        result &&\n        typeof result === \"string\" &&\n        result.length\n    ) {\n        options.element.innerHTML = result;\n    }\n\n    //\n    return promise;\n};\n"],"names":["blob","options","reader","FileReader","promise","Promise","resolve","addEventListener","buffer","srcElement","result","readAsText","filter","length","DOMParser","parseFromString","body","querySelectorAll","map","x","outerHTML","reduce","y","element","HTMLElement","innerHTML"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;EAAA,uDAAe,iBAAOA,IAAP,EAAaC,OAAb;EAAA;EAAA;EAAA;EAAA;EAAA;EAELC,YAAAA,MAFK,GAEI,IAAIC,UAAJ,EAFJ;EAKLC,YAAAA,OALK,GAKK,IAAIC,OAAJ,CAAY,UAACC,OAAD;EAAA,qBACxBJ,MAAM,CAACK,gBAAP,CAAwB,SAAxB,EAAmC,UAACC,MAAD;EAAA,uBAC/BF,OAAO,CAACE,MAAM,CAACC,UAAP,CAAkBC,MAAnB,CADwB;EAAA,eAAnC,CADwB;EAAA,aAAZ,CALL;EAYXR,YAAAA,MAAM,CAACS,UAAP,CAAkBX,IAAlB;EAZW;EAAA,mBAeQI,OAfR;;EAAA;EAePM,YAAAA,MAfO;;EAkBX,gBACIT,OAAO,IACP,OAAOA,OAAO,CAACW,MAAf,KAA0B,QAD1B,IAEAX,OAAO,CAACW,MAAR,CAAeC,MAHnB,EAIE;EAEEH,cAAAA,MAAM,GAAG,IAAII,SAAJ,GAAgBC,eAAhB,CAAgCL,MAAhC,EAAwC,WAAxC,EAAqDM,IAA9D;EAEAN,cAAAA,MAAM,sBAAOA,MAAM,CAACO,gBAAP,CAAwBhB,OAAO,CAACW,MAAhC,CAAP,CAAN;EAEAF,cAAAA,MAAM,GAAGA,MAAM,CAACG,MAAP,GACHH,MAAM,CAACQ,GAAP,CAAW,UAACC,CAAD;EAAA,uBAAOA,CAAC,CAACC,SAAT;EAAA,eAAX,EAA+BC,MAA/B,CAAsC,UAACF,CAAD,EAAIG,CAAJ;EAAA,uBAAUH,CAAC,GAAGG,CAAd;EAAA,eAAtC,CADG,GAEHZ,MAFN;EAGH;;EAGD,gBACIT,OAAO,IACPA,OAAO,CAACsB,OADR,IAEAtB,OAAO,CAACsB,OAAR,YAA2BC,WAF3B,IAGAd,MAHA,IAIA,OAAOA,MAAP,KAAkB,QAJlB,IAKAA,MAAM,CAACG,MANX,EAOE;EACEZ,cAAAA,OAAO,CAACsB,OAAR,CAAgBE,SAAhB,GAA4Bf,MAA5B;EACH;;EA3CU,6CA8CJN,OA9CI;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,GAAf;;EAAA;EAAA;EAAA;EAAA;;;;;;;;"}