{"version":3,"sources":["loader.mjs"],"names":["_getRequireWildcardCache","WeakMap","cache","_interopRequireWildcard","obj","__esModule","_typeof","default","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","configurable","writable","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","err","undefined","global","factory","exports","module","define","amd","Loader","_ref2","work","_ref","onmessage","regeneratorRuntime","mark","_callee","event","data","message","response","blob","wrap","_context","prev","next","fetch","href","options","sent","status","statusText","t0","postMessage","stop","_x","worker","getOrCreateWorker","concat","url","URL","createObjectURL","Blob","type","Worker","revokeObjectURL","createWorker","fetch$1","_callee2","_args2","_context2","abrupt","addEventListener","Error","_x2","cors","_fetch","_callee3","_this","_context3","map","a","document","createElement","_x3","_load","_callee4","el","imageUrl","styleUrl","sheet","jsUrl","result","_this2","_context4","load","Image","onload","onerror","src","reader","FileReader","srcElement","readAsText","CSSStyleSheet","replace","adoptedStyleSheets","require","_x4","_x5"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('Loader', factory) :\n    (global = global || self, global.Loader = factory());\n}(this, (function () { 'use strict';\n\n    /**\n     *\n     * @private\n     * @static\n     * @param {String} href\n     * @returns {URL}\n     */\n    const getURL = (href) =>\n        new URL(\n            ((a) => {\n                a.href = href;\n\n                return a;\n            })(document.createElement(\"a\"))\n        );\n\n    /**\n     *\n     * @private\n     * @static\n     * @param {Function} work\n     * @returns {Worker}\n     */\n    const createWorker = (work) => {\n        if (typeof work !== \"function\") {\n            throw new TypeError(\n                `Invalid argment of type ${typeof work} passed to Loader class internal \"createWorker\" function.`\n            );\n        }\n\n        const url = URL.createObjectURL(\n            new Blob([\"(\", work.toString(), \")()\"], {\n                type: \"application/javascript\",\n            })\n        );\n\n        const worker = new Worker(url);\n\n        URL.revokeObjectURL(url);\n\n        return worker;\n    };\n\n    /**\n     *\n     * @private\n     * @static\n     */\n    const work = () => {\n        onmessage = async (event) => {\n            const data = event.data;\n\n            // ...\n            let message;\n            try {\n                const response = await fetch(data.href, data.options);\n                const blob = await response.blob();\n\n                message = {\n                    status: response.status,\n                    statusText: response.statusText,\n                    blob: blob,\n                };\n            } catch (e) {\n                message = {\n                    status: 0,\n                    statusText: e,\n                };\n            }\n\n            // ...\n            message.href = data.href;\n            postMessage(message);\n        };\n    };\n\n    // ...\n    let worker = null;\n\n    /**\n     *\n     * @private\n     */\n    const getOrCreateWorker = () =>\n        worker ? worker : (worker = createWorker(work));\n\n    // ...\n    const cache = {};\n\n    /**\n     *\n     * @private\n     * @param {String} href\n     * @param {Object} options\n     */\n    var fetch$1 = async (href, options = {}) => {\n        // ...\n        if (href in cache) {\n            return await cache[href];\n        }\n\n        // ...\n        return (cache[href] = new Promise((resolve, reject) => {\n            const worker = getOrCreateWorker();\n\n            // ...\n            worker.postMessage({\n                href: href,\n                options: options.fetch,\n            });\n\n            // ...\n            worker.addEventListener(\"message\", (event) => {\n                const data = event.data;\n\n                // ...\n                if (data.href !== href) {\n                    return;\n                }\n\n                // ...\n                if (data.status === 200) {\n                    resolve(data.blob);\n\n                    return;\n                }\n\n                // ...\n                reject(new Error(`${data.statusText} for ${data.href} resource.`));\n            });\n        }));\n    };\n\n    class Loader {\n        /**\n         *\n         * @param {Object} options\n         */\n        constructor(options) {\n            this.options = {\n                ...{ fetch: { cors: \"no-cors\" } },\n                ...options,\n            };\n        }\n\n        /**\n         *\n         * @param {Array.<String>|Array.<URL>|String|URL} arg\n         * @returns {Array.<Promise>|Promise}\n         */\n        async fetch(arg) {\n            // ...\n            if (Array.isArray(arg)) {\n                return await arg.map((a) => this.fetch(a));\n            }\n\n            // ...\n            if (typeof arg === \"string\") {\n                return await this.fetch(getURL(arg));\n            }\n\n            // ...\n            if (arg instanceof URL) {\n                return await fetch$1(arg.href, this.options);\n            }\n\n            // ...\n            throw new TypeError(\n                `Invalid argment of type ${typeof arg} passed to Loader class \"fetch\" method.`\n            );\n        }\n\n        /**\n         *\n         * @param {Array.<String>|Array.<URL>|String|URL} arg\n         * @returns {Array.<Promise>|Promise}\n         */\n        async load(arg, el) {\n            // ...\n            if (Array.isArray(arg)) {\n                return await arg.map((a) => this.load(a));\n            }\n\n            // ...\n            const blob = await this.fetch(arg);\n\n            //...\n            switch (blob.type) {\n                //...\n                case \"image/png\":\n                case \"image/jpeg\":\n                    //\n                    el = undefined === el ? new Image() : el;\n\n                    //\n                    const imageUrl = URL.createObjectURL(blob);\n\n                    //\n                    await new Promise((resolve, reject) => {\n                        el.onload = resolve;\n                        el.onerror = reject;\n\n                        el.src = imageUrl;\n                    });\n\n                    //\n                    URL.revokeObjectURL(imageUrl);\n\n                    //\n                    return el;\n\n                //...\n                case \"text/html\":\n                    return new Promise((resolve, reject) => {\n                        //\n                        const reader = new FileReader();\n\n                        //\n                        reader.addEventListener(\"loadend\", (load) =>\n                            resolve(load.srcElement.result)\n                        );\n\n                        // TODO: error?\n\n                        //\n                        reader.readAsText(blob);\n                    });\n\n                //...\n                case \"text/css\":\n                    //\n                    el = undefined === el ? document : el;\n\n                    //\n                    const styleUrl = URL.createObjectURL(blob);\n\n                    //\n                    const sheet = new CSSStyleSheet();\n\n                    //\n                    await sheet.replace(`@import url(\"${styleUrl}\")`);\n\n                    //\n                    URL.revokeObjectURL(styleUrl);\n\n                    //\n                    if (\"adoptedStyleSheets\" in el) {\n                        el.adoptedStyleSheets = [...el.adoptedStyleSheets, sheet];\n                    }\n\n                    //\n                    return sheet;\n\n                //...\n                case \"text/javascript\":\n                    //\n                    const jsUrl = URL.createObjectURL(blob);\n\n                    //\n                    const result = await import(jsUrl);\n\n                    //\n                    URL.revokeObjectURL(jsUrl);\n\n                    //\n                    return result;\n            }\n\n            // ...\n            throw new TypeError(\n                `Invalid argment of type ${typeof arg} passed to Loader class \"fetch\" method.`\n            );\n        }\n    }\n\n    return Loader;\n\n})));\n"],"file":"loader.es5.min.js"}