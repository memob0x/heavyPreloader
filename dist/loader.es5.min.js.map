{"version":3,"sources":["loader.mjs"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","_getRequireWildcardCache","WeakMap","cache","_interopRequireWildcard","__esModule","_typeof","default","has","get","newObj","hasPropertyDescriptor","hasOwnProperty","call","desc","set","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","err","undefined","global","factory","exports","module","define","amd","Loader","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","body","onmessage","_ref","regeneratorRuntime","mark","_callee","event","response","blob","wrap","_context","prev","next","fetch","data","href","options","sent","status","statusText","t0","postMessage","stop","_x","lworker","requests","url","URL","createObjectURL","Blob","type","Worker","revokeObjectURL","lfetch","_callee2","_args2","_context2","abrupt","worker","addEventListener","terminate","Error","concat","_x2","css","_callee3","el","sheet","_args3","_context3","document","CSSStyleSheet","replace","adoptedStyleSheets","_x3","html","_callee4","reader","promise","result","_context4","FileReader","buffer","srcElement","readAsText","innerHTML","_x4","_x5","image","_callee5","_args5","_context5","Image","onload","onerror","src","_x6","javascript","_callee6","_context6","require","_x7","lload","_callee7","_context7","_x8","_x9","cors","_fetch","_callee8","a","_this","_context8","map","createElement","_x10","_load","_callee9","_this2","_context9","load","_x11","_x12"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('Loader', factory) :\n    (global = global || self, global.Loader = factory());\n}(this, (function () { 'use strict';\n\n    /**\n     *\n     * @private\n     * @static\n     */\n    const body = () =>\n        (onmessage = async (event) => {\n            //\n            try {\n                const response = await fetch(event.data.href, event.data.options);\n                const blob = await response.blob();\n\n                event.data.status = response.status;\n                event.data.statusText = response.statusText;\n                event.data.blob = blob;\n            } catch (e) {\n                event.data.statusText = e;\n            }\n\n            // ...\n            postMessage(event.data);\n        });\n\n    // ...\n    let lworker = null;\n    let requests = 0;\n\n    /**\n     *\n     * @private\n     */\n    const get = () => {\n        // ...\n        requests++;\n\n        // ...\n        if (lworker) {\n            return lworker;\n        }\n\n        // ...\n        const url = URL.createObjectURL(\n            new Blob([\"(\", body.toString(), \")()\"], {\n                type: \"application/javascript\",\n            })\n        );\n\n        // ...\n        lworker = new Worker(url);\n\n        // ...\n        URL.revokeObjectURL(url);\n\n        //\n        return lworker;\n    };\n\n    /**\n     *\n     * @private\n     */\n    const terminate = () => {\n        //\n        requests--;\n\n        //\n        if (requests <= 0) {\n            lworker.terminate();\n\n            lworker = null;\n        }\n    };\n\n    // ...\n    const cache = {};\n\n    /**\n     *\n     * @private\n     * @param {String} href\n     * @param {Object} options\n     */\n    var lfetch = async (href, options = {}) => {\n        // ...\n        if (href in cache) {\n            return await cache[href];\n        }\n\n        // ...\n        return (cache[href] = new Promise((resolve, reject) => {\n            //\n            const worker = get();\n\n            // ...\n            worker.postMessage({\n                href: href,\n                options: options.fetch,\n            });\n\n            // ...\n            // TODO: possibly use messageerror for reject?\n            worker.addEventListener(\"message\", (event) => {\n                const data = event.data;\n\n                // ...\n                if (data.href !== href) {\n                    return;\n                }\n\n                //\n                terminate();\n\n                // ...\n                if (data.status === 200) {\n                    resolve(data.blob);\n\n                    return;\n                }\n\n                // ...\n                reject(new Error(`${data.statusText} for ${data.href} resource.`));\n            });\n        }));\n    };\n\n    var css = async (blob, el = document) => {\n        //\n        const url = URL.createObjectURL(blob);\n\n        //\n        const sheet = new CSSStyleSheet();\n\n        //\n        await sheet.replace(`@import url(\"${url}\")`);\n\n        //\n        URL.revokeObjectURL(url);\n\n        //\n        if (\"adoptedStyleSheets\" in el) {\n            el.adoptedStyleSheets = [...el.adoptedStyleSheets, sheet];\n        }\n\n        //\n        return sheet;\n    };\n\n    var html = async (blob, el) => {\n        //\n        const reader = new FileReader();\n\n        //\n        const promise = new Promise((resolve) =>\n            reader.addEventListener(\"loadend\", (buffer) =>\n                resolve(buffer.srcElement.result)\n            )\n        );\n\n        //\n        reader.readAsText(blob);\n\n        //\n        const result = await promise;\n\n        //\n        if (el && typeof el === \"object\" && \"innerHTML\" in el) {\n            el.innerHTML = result;\n        }\n\n        //\n        return promise;\n    };\n\n    var image = async (blob, el = new Image()) => {\n        //\n        const url = URL.createObjectURL(blob);\n\n        //\n        const promise = new Promise((resolve, reject) => {\n            el.onload = resolve;\n            el.onerror = reject;\n        });\n\n        //\n        el.src = url;\n\n        //\n        const result = await promise;\n\n        //\n        URL.revokeObjectURL(url);\n\n        //\n        return result;\n    };\n\n    var javascript = async (blob) => {\n        //\n        const url = URL.createObjectURL(blob);\n\n        //\n        const result = await import(url);\n\n        //\n        URL.revokeObjectURL(url);\n\n        //\n        return result;\n    };\n\n    /**\n     *\n     * @param {Blob} blob\n     * @param {HTMLElement} el\n     */\n    var lload = async (blob, el) => {\n        //...\n        switch (blob.type) {\n            //...\n            case \"image/png\":\n            case \"image/jpeg\":\n                return await image(blob, el);\n\n            //...\n            case \"text/html\":\n                return await html(blob, el);\n\n            //...\n            case \"text/css\":\n                return await css(blob, el);\n\n            //...\n            case \"text/javascript\":\n                return await javascript(blob);\n        }\n\n        // ...\n        throw new TypeError(\n            `Invalid argment of type ${typeof blob} passed to Loader class \"fetch\" method.`\n        );\n    };\n\n    class Loader {\n        /**\n         *\n         * @param {Object} options\n         */\n        constructor(options) {\n            this.options = {\n                ...{ fetch: { cors: \"no-cors\" } },\n                ...options,\n            };\n        }\n\n        /**\n         *\n         * @param {Array.<String>|Array.<URL>|String|URL} arg\n         * @returns {Array.<Promise>|Promise}\n         */\n        async fetch(arg) {\n            // ...\n            if (Array.isArray(arg)) {\n                return await arg.map((a) => this.fetch(a));\n            }\n\n            // ...\n            if (typeof arg === \"string\") {\n                const a = document.createElement(\"a\");\n\n                a.href = arg;\n\n                return await this.fetch(new URL(a));\n            }\n\n            // ...\n            if (arg instanceof URL) {\n                return await lfetch(arg.href, this.options);\n            }\n\n            // ...\n            throw new TypeError(\n                `Invalid argment of type ${typeof arg} passed to Loader class \"fetch\" method.`\n            );\n        }\n\n        /**\n         *\n         * @param {Array.<String>|Array.<URL>|String|URL} arg\n         * @returns {Array.<Promise>|Promise}\n         */\n        async load(arg, el) {\n            // ...\n            if (Array.isArray(arg)) {\n                return await arg.map((a) => this.load(a, el));\n            }\n\n            // ...\n            const blob = await this.fetch(arg);\n\n            // ...\n            return await lload(blob, el);\n        }\n    }\n\n    return Loader;\n\n})));\n"],"file":"loader.es5.min.js"}